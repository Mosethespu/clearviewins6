{% extends "base.html" %}

{% block title %}Search Policy - ClearView Insurance{% endblock %}

{% block content %}
<div class="container-fluid py-4">
	<div class="row">
		<!-- Sidebar -->
		<aside class="col-12 col-md-3 col-lg-2 mb-4 mb-md-0">
			<div class="dashboard-sidebar p-3 bg-light rounded shadow-sm">
				<h6 class="text-uppercase text-muted mb-3">User Options</h6>
				<div class="d-grid gap-2">
					<a class="btn btn-outline-primary sidebar-btn" href="{{ url_for('customer_dashboard') }}">
						<i class="bi bi-house"></i> Dashboard
					</a>
					<a class="btn btn-outline-primary sidebar-btn" href="{{ url_for('customer_search') }}">
						<i class="bi bi-search"></i> Search
					</a>
					<a class="btn btn-primary sidebar-btn" href="{{ url_for('customer_policy_management') }}">
						<i class="bi bi-shield-check"></i> Policy Management
					</a>
					<a class="btn btn-outline-primary sidebar-btn" href="{{ url_for('customer_search_vehicle') }}">
						<i class="bi bi-car-front"></i> Search Vehicle
					</a>
					<a class="btn btn-outline-primary sidebar-btn" href="{{ url_for('customer_reports_and_insights') }}">
						<i class="bi bi-graph-up"></i> Reports & Insights
					</a>
				</div>
			</div>
		</aside>

		<!-- Main content -->
		<main class="col-12 col-md-9 col-lg-10">
			<div class="px-2 px-md-3">
				<!-- Header -->
				<div class="d-flex justify-content-between align-items-center mb-4">
					<div>
						<h2><i class="bi bi-search"></i> Search Policy</h2>
						<p class="text-muted mb-0">Find a policy by policy number</p>
					</div>
					<div>
						<a href="{{ url_for('customer_policy_management') }}" class="btn btn-outline-secondary">
							<i class="bi bi-arrow-left"></i> Back to Management
						</a>
					</div>
				</div>

				<!-- Search Form -->
				<div class="row justify-content-center">
					<div class="col-lg-8">
						<div class="card shadow-sm">
							<div class="card-body p-4">
								<form method="POST">
									<div class="mb-4">
										<label for="policy_number" class="form-label">Policy Number</label>
										<input type="text" 
											   class="form-control form-control-lg" 
											   id="policy_number" 
											   name="policy_number" 
											   placeholder="e.g., POL-2024-001"
											   required
											   style="text-transform: uppercase;">
										<div class="form-text">Enter the complete policy number</div>
									</div>

									<div class="d-grid">
										<button type="submit" class="btn btn-primary btn-lg">
											<i class="bi bi-search"></i> Search Policy
										</button>
									</div>
								</form>
							</div>
						</div>

						<!-- Information Card -->
						<div class="card mt-4 border-info">
							<div class="card-header bg-info text-white">
								<i class="bi bi-info-circle"></i> What can you do?
							</div>
							<div class="card-body">
								<ul class="mb-0">
									<li><strong>Monitor a Policy:</strong> View-only access to track status and details</li>
									<li><strong>Request Access:</strong> Submit a request to add the policy to your account (requires insurer approval)</li>
									<li><strong>Request Cancellation:</strong> For policies in your account (requires insurer approval)</li>
									<li><strong>Request Renewal:</strong> Available 30 days before expiry for your policies</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</main>
	</div>
</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

<script>
// Uppercase input automatically
document.getElementById('policy_number').addEventListener('input', function(e) {
	this.value = this.value.toUpperCase();
});
</script>
{% endblock %}
