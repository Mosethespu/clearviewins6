{% extends 'base.html' %}
{% block title %}Blog - ClearView Insurance{% endblock %}
{% block content %}
<div class="container py-5" style="min-height: calc(100vh - 120px);">
	<div class="text-center mb-5">
		<h1 class="display-4 fw-bold text-primary mb-3">Insurance Insights & News</h1>
		<p class="lead text-muted">Stay informed with the latest updates, tips, and industry insights</p>
	</div>

	{% if posts %}
		<div class="row g-4">
			{% for post in posts %}
			<div class="col-md-6 col-lg-4">
				<div class="card h-100 shadow-sm hover-lift">
					{% if post.featured_image %}
					<img src="{{ url_for('static', filename='img/blog/' + post.featured_image) }}" 
						 class="card-img-top" alt="{{ post.title }}" style="height: 200px; object-fit: cover;">
					{% else %}
					<div class="card-img-top bg-primary d-flex align-items-center justify-content-center" 
						 style="height: 200px;">
						<i class="bi bi-newspaper text-white" style="font-size: 4rem;"></i>
					</div>
					{% endif %}
					<div class="card-body d-flex flex-column">
						<h5 class="card-title text-primary">{{ post.title }}</h5>
						<p class="card-text text-muted flex-grow-1">{{ post.excerpt[:150] }}{% if post.excerpt|length > 150 %}...{% endif %}</p>
						<div class="d-flex justify-content-between align-items-center mt-3">
							<small class="text-muted">
								<i class="bi bi-calendar3"></i> {{ post.created_at.strftime('%b %d, %Y') }}
							</small>
							<small class="text-muted">
								<i class="bi bi-eye"></i> {{ post.views }} views
							</small>
						</div>
						<a href="{{ url_for('blog_post', slug=post.slug) }}" class="btn btn-primary mt-3">
							Read More <i class="bi bi-arrow-right"></i>
						</a>
					</div>
				</div>
			</div>
			{% endfor %}
		</div>
	{% else %}
		<div class="text-center py-5">
			<i class="bi bi-inbox text-muted" style="font-size: 5rem;"></i>
			<h3 class="text-muted mt-3">No Blog Posts Yet</h3>
			<p class="text-muted">Check back soon for updates and insights!</p>
		</div>
	{% endif %}
</div>

<style>
.hover-lift {
	transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.hover-lift:hover {
	transform: translateY(-5px);
	box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.15) !important;
}
</style>
{% endblock %}